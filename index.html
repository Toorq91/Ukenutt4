<!DOCTYPE html>
<html lang="en">
<head>
    <title>Wheel of Destiny!</title>
    <link rel="stylesheet" type="text/css" href="style.css">
</head>
<body>
    <div class="container">
        <div class="input-container">
            <input type="text" id="nameInput" placeholder="Enter a name">
            <button onclick="addName()">Add</button>
        </div>
        <div class="spinBtn">Spin</div>
        <div class="wheel" id="wheel"></div>
    </div>
    <script>
        let names = [];
let colors = ["#db7093", "#20b2aa", "#d63e92", "#daa520", "#ff340f", "#ff7f50", "#3cb371", "#4169e1"];

function addName() {
    let input = document.getElementById("nameInput");
    let name = input.value.trim();
    if (name && names.length < 20) { // Limit to 20 names
        names.push(name);
        input.value = "";
        updateWheel();
    }
}

function updateWheel() {
    let wheel = document.getElementById("wheel");
    wheel.innerHTML = ""; // Clear previous wheel content

    let totalSlices = names.length;
    let sliceAngle = 360 / totalSlices; // Divide 360 degrees by the total number of slices

    names.forEach((name, i) => {
        let slice = document.createElement("div");
        slice.className = "number";
        slice.style.setProperty("--i", i + 1);
        slice.style.setProperty("--clr", colors[i % colors.length]);

        // Handle special cases when there are 1, 2, or 3 names
        if (totalSlices === 1) {
            slice.style.transform = `rotate(0deg)`; // Rotate to start at the top
            slice.style.width = "100%"; // Ensure the slice covers the entire wheel
            slice.style.height = "100%"; // Same for height
            slice.style.borderRadius = "50%"; // Make it a full circle
            slice.style.clipPath = "none"; // No clipping for single slice
        } else if (totalSlices === 2) {
            slice.style.transform = `rotate(${i * sliceAngle}deg)`; // First slice will rotate 0째, second slice will rotate 180째
            if (i === 0) {
                slice.style.width = "100%"; 
                slice.style.height = "50%"; 
                slice.style.position = "absolute";
                slice.style.top = "0"; 
                slice.style.transformOrigin = "center"; 
                slice.style.borderBottom = "none"; 
                slice.style.zIndex = 1; 
            }
            if (i === 1) {
                slice.style.width = "100%"; 
                slice.style.height = "50%"; 
                slice.style.position = "absolute";
                slice.style.top = "50%"; 
                slice.style.transformOrigin = "center"; 
                slice.style.borderTopLeftRadius = "100%"; 
                slice.style.borderTopRightRadius = "100%"; 
                slice.style.zIndex = 0; 
            }
        } else if (totalSlices === 3) {
            // For 3 slices, create a pie slice shape
            slice.style.transform = `rotate(${i * sliceAngle}deg)`; // 3 slices, each takes 120째 turn
            slice.style.width = "50%"; 
            slice.style.height = "50%"; 
            slice.style.position = "absolute";
            slice.style.top = "0";
            slice.style.left = "0";
            slice.style.transformOrigin = "100% 100%"; // Center the transform at the outer corner
            slice.style.zIndex = 1;
            slice.style.background = colors[i % colors.length]; // Apply color
        } else {
            slice.style.transform = `rotate(${i * sliceAngle}deg)`; // Rotate each slice by calculated angle
        }

        // Create the content of the slice (name)
        let nameText = document.createElement("span");
        nameText.innerHTML = name;

        // For a single slice, center the text in the middle of the entire circle
        if (totalSlices === 1) {
            nameText.style.position = "absolute";
            nameText.style.top = "calc(50% - 100px)"; // Center the text vertically
            nameText.style.left = "50%"; 
            nameText.style.transform = "translate(-50%, -50%)"; // Final centering
            nameText.style.fontSize = "1.5em"; 
            nameText.style.color = "#fff"; 
            nameText.style.textShadow = "3px 5px 2px rgba(0,0,0,0.5)";
        }

        // For 3 slices, center the name text inside each slice
        if (totalSlices === 3) {
            slice.style.position = "absolute";
            slice.style.width = "100%"; 
            slice.style.height = "100%"; 
            slice.style.clipPath = "polygon(50% 50%, 38% 0, 0 0, 0 100%)"; // Proper 120째 slice shape
            slice.style.background = colors[i % colors.length];
            slice.style.transform = `rotate(${i * sliceAngle}deg)`; 
            slice.style.transformOrigin = "50% 50%"; 

            // Position name inside the slice
            nameText.style.position = "absolute";
            nameText.style.top = "25%";  // Moves text up slightly
            nameText.style.left = "50%"; 
            nameText.style.transform = "translate(-50%, -50%) rotate(" + (-i * sliceAngle) + "deg)"; 
            nameText.style.fontSize = "1.2em"; 
            nameText.style.fontWeight = "bold";
            nameText.style.color = "#fff"; 
            nameText.style.textShadow = "3px 5px 2px rgba(0,0,0,0.5)";
        }


        slice.appendChild(nameText); // Append the text to the slice
        wheel.appendChild(slice); // Append the slice to the wheel
    });
}







// Spinning functionality
let spinBtn = document.querySelector('.spinBtn');
let value = Math.ceil(Math.random() * 3600);

spinBtn.onclick = function() {
    document.getElementById("wheel").style.transform = "rotate(" + value + "deg)";
    value += Math.ceil(Math.random() * 3600);
};


    </script>
</body>
</html>

